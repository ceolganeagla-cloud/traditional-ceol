
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Ceol Gan Eagla — Tricolour Edition</title>
<link rel="manifest" href="manifest.webmanifest"><link rel="icon" href="icons/favicon.png">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="splash"><span class="flaglogo"><i></i><i></i><i></i></span></div>

<header class="header">
  <div class="band"></div>
  <div class="in">
    <a class="brand" href="#search">
      <span class="flaglogo" aria-hidden="true"><i></i><i></i><i></i></span>
      <span class="title"><strong>Ceol Gan Eagla</strong><small>Music Without Fear</small></span>
    </a>
  </div>
</header>

<main class="page">
  <section id="page-search" class="tri-border section flag-cap">
    <h1>Search & Browse</h1>
    <p>Search tunes, songs, artists, regions…</p>
    <div class="searchbar" style="margin-top:12px">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="#294" stroke-width="2" stroke-linecap="round"/></svg>
      <input id="q" placeholder="Search tunes, songs, artists, regions…">
      <button id="libOpen" class="btn" title="Open Library tools">Library ▾</button>
    </div>
    <div class="filters">
      <div>
        <div style="font-weight:700;margin:10px 0 6px">Content Type</div>
        <div class="pills" id="scopePills">
          <button class="pill" data-scope="all" aria-pressed="true">All</button>
          <button class="pill" data-scope="tunes">Tunes</button>
          <button class="pill" data-scope="songs">Songs</button>
        </div>
      </div>
      <div>
        <div style="font-weight:700;margin:10px 0 6px">Tune Type</div>
        <div class="pills" id="kindPills">
          <button class="pill" data-kind="All Types" aria-pressed="true">All Types</button>
          <button class="pill" data-kind="Air">Air</button>
          <button class="pill" data-kind="Jig">Jig</button>
          <button class="pill" data-kind="Reel">Reel</button>
        </div>
      </div>
    </div>
    <div id="results" class="list"></div>
  </section>

  <section id="page-tune" class="tri-border section flag-cap hidden">
    <div class="tuneHead">
      <h1 id="t-title">Tune</h1>
      <div id="t-badges" class="badges" style="margin-top:6px"></div>
      <p id="t-blurb" style="color:var(--muted)"></p>
      <div class="actions">
        <button id="t-play" class="btn play">▶ Play</button>
        <button id="t-stop" class="btn stop">■ Stop</button>
        <button id="t-save" class="btn">＋ Add to Library</button>
        <button id="t-print" class="btn pdf">Download PDF</button>
        <a class="btn" href="#search">← Back</a>
      </div>
      <div class="note" id="audioNote" hidden>Tip: if audio doesn’t start, click anywhere first.</div>
    </div>
    <div id="paper" style="margin-top:16px"></div>
  </section>

  <section id="page-songs" class="tri-border section flag-cap hidden">
    <h1>Songs & Lyrics</h1>
    <p>Tap a song to view full lyrics and background.</p>
    <div id="songlist" class="list"></div>
  </section>

  <section id="page-learn" class="tri-border section flag-cap hidden">
    <h1>Learn Irish Music</h1>
    <p>Master the traditions, techniques, and culture of Irish music — without fear!</p>
    <div class="list">
      <div class="item"><strong>Notation</strong> — Understanding ABC</div>
      <div class="item"><strong>Instruments</strong> — Common instruments</div>
      <div class="item"><strong>Styles</strong> — Regional styles</div>
      <div class="item"><strong>Practice</strong> — How to practice</div>
    </div>
  </section>

  <section id="page-tools" class="tri-border section flag-cap hidden">
    <h1>Practice Tools</h1>
    <div class="list">
      <button class="item" id="mBtn" style="text-align:left"><strong>Metronome</strong> — Accents & time signatures</button>
      <button class="item" id="rBtn" style="text-align:left"><strong>Record Yourself</strong> — Mic recorder & playback</button>
      <button class="item" id="tuneBtn" style="text-align:left"><strong>Tuner</strong> — A4 calibration, cents</button>
      <button class="item" id="studioBtn" style="text-align:left"><strong>ABC Studio</strong> — Paste ABC → render → save</button>
    </div>
    <div id="toolhost" class="toolhost" style="margin-top:12px"></div>
  </section>

  <div class="footerNote">© Gearóid MacUaid – Ceol Gan Eagla <span id="yy"></span></div>
</main>

<nav class="navbar">
  <a class="navbtn" id="nav-search" href="#search" aria-current="page"><svg viewBox="0 0 24 24" fill="none"><circle cx="11" cy="11" r="7" stroke-width="2"/><path d="M20 20l-3.5-3.5" stroke-width="2"/></svg><small>Search</small></a>
  <a class="navbtn" id="nav-tunes" href="#tune"><svg viewBox="0 0 24 24" fill="none"><path d="M6 4v14a3 3 0 1 0 2-2.83V6h8v8a3 3 0 1 0 2-2.83V4z" stroke-width="2"/></svg><small>Tunes</small></a>
  <a class="navbtn" id="nav-songs" href="#songs"><svg viewBox="0 0 24 24" fill="none"><path d="M4 6h16M4 12h10M4 18h7" stroke-width="2"/></svg><small>Songs</small></a>
  <a class="navbtn" id="nav-learn" href="#learn"><svg viewBox="0 0 24 24" fill="none"><path d="M4 10l8-4 8 4-8 4-8-4zM4 14l8 4 8-4" stroke-width="2"/></svg><small>Learn</small></a>
  <a class="navbtn" id="nav-tools" href="#tools"><svg viewBox="0 0 24 24" fill="none"><path d="M4 14l6-6M12 8l4 4M15 3l6 6-4 4-6-6V3h4z" stroke-width="2"/></svg><small>Tools</small></a>
</nav>

<!-- Library drawer -->
<div id="libDrawer" class="drawer hidden">
  <h3 style="margin:6px 0 8px">Library Tools</h3>
  <div class="list" style="gap:8px;margin-top:6px">
    <div class="item">
      <strong>Import ABC (paste)</strong>
      <textarea id="abcPaste" style="width:100%;height:120px;margin-top:8px"></textarea>
      <div class="actions"><button class="btn play" id="importPaste">Add to Library</button></div>
    </div>
    <div class="item">
      <strong>Import ABC (file)</strong>
      <input type="file" id="abcFile" accept=".abc,.txt">
      <div class="actions"><button class="btn" id="importFile">Import File</button></div>
    </div>
    <div class="item">
      <strong>Import from URL (open source)</strong>
      <input id="abcUrl" placeholder="https://example.com/tune.abc" style="width:100%;margin-top:8px">
      <div class="note">Note: Works only if the site allows CORS. If blocked, copy-paste the ABC text above instead.</div>
      <div class="actions"><button class="btn" id="importUrl">Fetch & Add</button></div>
    </div>
    <div class="item">
      <strong>Export / Backup</strong>
      <div class="actions"><button class="btn" id="exportLib">Export JSON</button><input type="file" id="importJsonFile" accept="application/json"><button class="btn" id="importJson">Import JSON</button></div>
    </div>
    <div class="item"><strong>Library size:</strong> <span id="libSize">0</span> tunes</div>
  </div>
</div>

<script src="js/abcjs-loader.js"></script>
<script src="js/app.js"></script>
<script>if('serviceWorker' in navigator){navigator.serviceWorker.register('./sw.js');}</script>
</body></html>
